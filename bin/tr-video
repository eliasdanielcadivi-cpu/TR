#!/bin/bash
# TR-VIDEO: Herramienta de Visualizaci√≥n de Alto Rendimiento para Kitty
# Calidad 100% garantizada.

if [ -z "$1" ]; then
    echo "Uso: tr-video <ruta_del_video>"
    exit 1
fi

VIDEO_PATH="$1"

# Comprobar si el archivo existe
if [ ! -f "$VIDEO_PATH" ]; then
    echo "‚ùå Error: El archivo '$VIDEO_PATH' no existe."
    exit 1
fi

echo "üé¨ Reproduciendo en calidad Kitty-Nativa: $(basename "$VIDEO_PATH")"

# Par√°metros √≥ptimos para Kitty seg√∫n documentaci√≥n oficial
# --vo=kitty: Usa el backend nativo de kitty
# --vo-kitty-use-shm=yes: Mejora dram√°tica de rendimiento (Shared Memory)
# --profile=sw-fast: Optimiza la decodificaci√≥n por software para terminales
# --really-quiet: Limpia la salida de la terminal
mpv --profile=sw-fast \
    --vo=kitty \
    --vo-kitty-use-shm=yes \
    --really-quiet \
    "$VIDEO_PATH"
